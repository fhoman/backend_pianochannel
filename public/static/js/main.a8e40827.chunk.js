(this["webpackJsonpfrontend-pianochannel"]=this["webpackJsonpfrontend-pianochannel"]||[]).push([[0],{21:function(e,t,a){},34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(31),c=a.n(s),r=a(3),i=(a(39),a(2)),o=a(5),m=a(7),u=a(6);a(21);function d(){return l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:"https://www.pianolessenamsterdam.nl/wp-content/uploads/2017/08/PianolessenAmsterdam.png",alt:"Pianolessen Amsterdam"}))}var p=a(14),h=a.n(p),f=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a){return t.service.post("/auth/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return console.log("https://pianolessenamsterdam.herokuapp.com/api"),t.service.post("/auth/login",{username:e,password:a}).then((function(e){return e.data}))},this.isAuthenticated=function(){return t.service.get("/auth/isLoggedIn").then((function(e){return e.data}))},this.logOut=function(){return t.service.post("/auth/logout").then((function(e){return e.data}))},this.service=h.a.create({baseURL:"".concat("https://pianolessenamsterdam.herokuapp.com/api","/"),withCredentials:!0})},E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logoutUser=function(){console.log(n.props),n.service.logOut().then((function(){n.setState({loggedInUser:null}),console.log(n.props),n.props.setUser({username:null,role:null,loggedInUser:null})}))},n.state={loggedInUser:null,username:null,role:null,active:!0},n.service=new f,n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"profile-options is-fullwidth"},l.a.createElement("div",{className:"tabs is-fullwidth is-medium"},l.a.createElement("ul",null,l.a.createElement("li",{className:"link"},l.a.createElement(r.c,{to:"/students",activeStyle:{color:"red"}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fa fa-thumbs-up"})),l.a.createElement("span",null,"Students"))),l.a.createElement("li",{className:"link"},l.a.createElement(r.c,{to:"/videos",activeStyle:{color:"red"}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fa fa-search"})),l.a.createElement("span",null,"Videos"))),l.a.createElement("li",{className:"link"},l.a.createElement(r.c,{to:"/login",onClick:function(){return e.logoutUser()},activeStyle:{color:"red"}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fa fa-balance-scale"})),l.a.createElement("span",null,"Logout"))))))}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logoutUser=function(){console.log(n.props),n.service.logOut().then((function(){n.setState({loggedInUser:null}),console.log(n.props),n.props.setUser({username:null,role:null,loggedInUser:null})}))},n.state={loggedInUser:null,username:null,role:null},n.service=new f,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.userInSession,t=e.username,a=e.loggedInUser;this.setState({username:t,loggedInUser:a})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"profile-options is-fullwidth"},l.a.createElement("div",{className:"tabs is-fullwidth is-medium"},l.a.createElement("ul",null,l.a.createElement("li",{className:"link"},l.a.createElement(r.c,{to:"/myprofile/".concat(this.state.username),activeStyle:{color:"red"}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fa fa-thumbs-up"})),l.a.createElement("span",null,"Profile"))),l.a.createElement("li",{className:"link"},l.a.createElement(r.c,{to:"/login",onClick:function(){return e.logoutUser()},activeStyle:{color:"red"}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fa fa-balance-scale"})),l.a.createElement("span",null,"Logout"))))))}}]),a}(n.Component),v=a(12),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",service:new f,formSubmit:!1},e.handleSubmit=function(t){t.preventDefault();var a=e.state.username,n=e.state.password;e.state.service.login(a,n).then((function(t){e.setState({username:"",password:"",formSubmit:!0}),console.log(t),e.props.setUser(t)})).catch((function(e){return console.log(e)}))},e.handleInput=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(v.a)({},n,l))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-container"},l.a.createElement("form",{className:"signup-form",onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"email",name:"username",value:this.state.username,onChange:function(t){return e.handleInput(t)},placeholder:"Email"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-envelope"})),l.a.createElement("span",{className:"icon is-small is-right"},l.a.createElement("i",{className:"fas fa-check"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:function(t){return e.handleInput(t)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-lock"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-success",type:"submit"},"Login")),"          "),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control"},"Don't have account?",l.a.createElement(r.b,{to:"/signup"}," Signup")))),l.a.createElement("p",null)))}}]),a}(n.Component),b=a(1),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",service:new f,submitted:!1},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.state.service.signup(e.state.username,e.state.password).then((function(t){e.setState({submitted:!0,username:"",password:""})}))},e.handleInput=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(v.a)({},n,l))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.href,t=new URL(e).searchParams.get("mail");console.log(t),this.setState({username:t})}},{key:"render",value:function(){var e=this;return this.state.submitted?l.a.createElement(b.a,{to:"/login"}):l.a.createElement("div",{className:"form-container"},l.a.createElement("form",{className:"signup-form",onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"email",name:"username",value:this.state.username,onChange:function(t){return e.handleInput(t)},placeholder:"Email"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-envelope"})),l.a.createElement("span",{className:"icon is-small is-right"},l.a.createElement("i",{className:"fas fa-check"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:function(t){return e.handleInput(t)}}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-lock"})))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-success",type:"submit"},"Signup"))),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control"},"Already have an account?",l.a.createElement(r.b,{to:"/login"}," Login")))))}}]),a}(n.Component),w=h.a.create({baseURL:"".concat("https://pianolessenamsterdam.herokuapp.com/api","/admin")}),y={fetchVideos:function(){return w.post("/videos")},fetchVideo:function(e){return w.post("/video",e)},fetchStudents:function(){return w.post("/students")},fetchStudentsVideo:function(e){return w.post("/students-video",e)},tagVideo:function(e){return w.post("/tagvideo",e)},untagVideo:function(e){return w.post("/untagvideo",e)},mailNewUser:function(e){return w.post("/mail-user",{email:e})},sendNotifications:function(e){return console.log(e),w.post("/send-notification",e)}},k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(v.a)({},n,l))},e.onSubmit=function(t){t.preventDefault(),y.mailNewUser(e.state.email),e.setState({email:"",showMessage:!0,tempMail:e.state.email}),setTimeout((function(){e.setState({showMessage:!1})}),2e3)},e.state={users:[],email:"",tempMail:"",showMessage:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.fetchStudents().then((function(t){e.setState({users:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column is-2-tablet is-4-mobile has-text-centered"},l.a.createElement("p",{className:"stat-val"},this.state.totalVideos)),l.a.createElement("div",{className:"column is-8"},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(t){return e.handleChange(t)},name:"email",value:this.state.email,type:"email",placeholder:"Email adress"})),l.a.createElement("div",{className:"control"},l.a.createElement("a",{href:"/students",onClick:function(t){return e.onSubmit(t)},className:"button is-info"},"Invite student"))),this.state.showMessage&&l.a.createElement("div",{className:"notification is-success"}," An invitation has been send to ",this.state.tempMail)))),l.a.createElement("table",{className:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Profile picture"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Surname"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Telephone"))),l.a.createElement("tbody",null,this.state.users.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("span",{className:"student-profile-small"},l.a.createElement("img",{src:e.image,alt:e.name}))),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.surname),l.a.createElement("td",null,e.username),l.a.createElement("td",null,e.number))})))))}}]),a}(n.Component),U=a(16),O=a.n(U),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={videos:[],filteredData:[],totalVideos:0,taggedVideo:"",taggedStudent:"",loading:!0,searchValue:"",showVideoCardModal:""},e.showModal=function(){e.setState({showVideoCardModal:!0})},e.hideModal=function(){e.setState({showVideoCardModal:!1})},e.inputSearchHandler=function(t){console.log(t);var a=e.state.videos.filter((function(e){return e.snippet.title.toLowerCase().includes(t)}));console.log(a),e.setState({searchValue:t,filteredData:a})},e.untagUser=function(t,a){console.log(a,t);var n={username:a,videoID:t};y.untagVideo(n).then((function(){e.setState({taggedStudent:a}),e.getNewData()})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"getNewData",value:function(){var e=this;y.fetchVideos().then((function(t){console.log(t.data),e.setState({videos:t.data,filteredData:t.data,totalVideos:t.data.length,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;y.fetchVideos().then((function(t){console.log(t.data),e.setState({videos:t.data,filteredData:t.data,totalVideos:t.data.length,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.loading?l.a.createElement("p",{className:"columns is-centered"},"Loading videos"):0===this.state.filteredData.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column is-2-tablet is-4-mobile has-text-centered"},l.a.createElement("p",{className:"stat-val"},this.state.totalVideos),l.a.createElement("p",{className:"stat-key"},"Videos")),l.a.createElement("div",{className:"column is-8"},l.a.createElement("p",{className:"control has-addons"},l.a.createElement("input",{className:"input",placeholder:"Search videos",onChange:function(t){return e.inputSearchHandler(t.target.value)},value:this.searchValue,type:"text"}))),"     ")),l.a.createElement("p",{className:"columns is-centered"},"There are no results"),l.a.createElement("p",null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column is-2-tablet is-4-mobile has-text-centered"},l.a.createElement("p",{className:"stat-val"},this.state.totalVideos),l.a.createElement("p",{className:"stat-key"},"Videos")),l.a.createElement("div",{className:"column is-8"},l.a.createElement("p",{className:"control has-addons"},l.a.createElement("input",{className:"input",placeholder:"Search videos",onChange:function(t){return e.inputSearchHandler(t.target.value)},value:this.searchValue,type:"text"}))))),l.a.createElement("div",{className:"video-container"},this.state.filteredData.map((function(e,t){return l.a.createElement("div",{className:"card-video",key:e.id},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,l.a.createElement(O.a,{format:"D MMM YYYY"},e.snippet.publishedAt)),l.a.createElement("p",{className:"title is-5"},e.snippet.title),l.a.createElement("p",null),e.users.map((function(e,t){return l.a.createElement("span",{key:t,className:"student-profile-small"},l.a.createElement("img",{src:e.image,alt:e.name}))})),l.a.createElement("p",null),l.a.createElement(r.b,{to:"/video/".concat(e._id),className:"button is-info is-small"},"Tag students"))))}))))}}]),a}(n.Component),C=a(33),V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).tagUser=function(t){var a={username:t,videoID:e.state.taggedVideo._id};y.tagVideo(a).then((function(){e.setState({taggedStudent:t});var a=Object(C.a)(e.state.taggedStudentsArr);a.push(e.state.taggedStudent),e.getNewData(),e.setState({taggedStudentsArr:a})})).catch((function(e){return console.log(e)}))},e.untagUser=function(t){var a={username:t,videoID:e.state.taggedVideo._id};y.untagVideo(a).then((function(){e.setState({taggedStudent:t}),e.getNewData()})).catch((function(e){return console.log(e)}))},e.sendNotifications=function(){y.sendNotifications({taggedStudentsArr:e.state.taggedStudentsArr,videoID:e.state.taggedVideo})},e.state={students:[],taggedVideo:"",taggedStudent:"",loading:!0,taggedStudentsArr:[]},e}return Object(o.a)(a,[{key:"getNewData",value:function(){var e=this;y.fetchVideo({videoID:this.props.match.params.id}).then((function(t){e.setState({taggedVideo:t.data,loading:!1}),y.fetchStudentsVideo({videoID:e.state.taggedVideo._id}).then((function(t){e.setState({students:t.data})}))}))}},{key:"componentDidMount",value:function(){this.getNewData()}},{key:"render",value:function(){var e=this;if(this.state.loading)return l.a.createElement("div",null,"Loading");var t=this.state.taggedVideo.snippet.title;return l.a.createElement("div",{className:"card-video"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("h2",{className:"video-modal"},t),l.a.createElement("p",null),this.state.taggedVideo.users.map((function(t,a){return l.a.createElement("div",{key:a},l.a.createElement("span",{key:a,className:"student-profile-small"}," ",l.a.createElement("img",{alt:t.username,src:t.image})),l.a.createElement("button",{className:"button is-danger is-small ml-6",onClick:function(a){return e.untagUser(t.username)}},l.a.createElement("span",null,"Untag student"),l.a.createElement("span",{className:"icon is-small"},l.a.createElement("i",{className:"delete"})))," ")})),l.a.createElement("p",null),this.state.students.map((function(t,a){return l.a.createElement("div",{key:a},l.a.createElement("span",{key:a,className:"student-profile-small mr-6"}," ",l.a.createElement("img",{alt:t.username,src:t.image}))," ",l.a.createElement("button",{className:"button is-success is-small",onClick:function(a){return e.tagUser(t.username)}},"Tag user"))})),l.a.createElement("p",null),l.a.createElement(r.b,{to:"/videos",onClick:function(){return e.sendNotifications()}},"Back to videos"))))}}]),a}(n.Component),D=h.a.create({baseURL:"".concat("https://pianolessenamsterdam.herokuapp.com/api","/user")}),I={FetchProfileStudent:function(e){return D.post("/profile-student",e)},UpdateProfileStudent:function(e){return D.post("/update-profile-student",e)},handleFileUpload:function(e){return D.post("/profileimage",e).then((function(e){return e.data}))}},M=(a(64),function(e){var t=e.user,a=t.username,n=t.name,s=t.surname,c=t.number,r=t.bio,i=t.image,o=t.show,m=t.emailnotifications,u=e.handleClose,d=e.handleFileUpload,p=e.handleInput,h=e.handleSave,f=o?"display-block":"display-none";return l.a.createElement("div",{className:f},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-card"},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("p",{className:"modal-card-title"},"Edit Profile"),l.a.createElement("button",{onClick:u,className:"delete"},"close")),l.a.createElement("section",{className:"modal-card-body"},l.a.createElement("span",{className:"student-profile-big"},l.a.createElement("img",{alt:n,src:i}),l.a.createElement("input",{type:"file",onChange:function(e){return d(e)}})),l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("input",{className:"input",onChange:p,placeholder:"Text input",name:"name",type:"text",value:n}),l.a.createElement("label",{className:"label"},"Surname"),l.a.createElement("input",{className:"input",onChange:p,placeholder:"Text input",name:"surname",type:"text",value:s}),l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("input",{className:"input",onChange:p,placeholder:"Email input",name:"username",type:"text",value:a}),l.a.createElement("i",{className:"fa fa-warning"}),l.a.createElement("label",{className:"label"},"Description"),l.a.createElement("textarea",{className:"textarea",onChange:p,placeholder:"Describe Yourself!",name:"bio",value:r}),l.a.createElement("label",{className:"label"},"Phone Number"),l.a.createElement("input",{className:"input",onChange:p,placeholder:"Text input",name:"number",type:"text",value:c}),l.a.createElement("label",{className:"label"},"Send me notifications for every new video"),l.a.createElement("div",{className:"field"},l.a.createElement("input",{className:"is-checkradio is-success is-circle",checked:m,type:"checkbox",name:"emailnotifications",onChange:p}),l.a.createElement("label",{htmlFor:"email"}," E-mail"))),l.a.createElement("footer",{className:"modal-card-foot"},l.a.createElement("a",{className:"button is-primary modal-save",href:"/save",onClick:function(e){return h(e)}},"Save changes"),l.a.createElement("button",{onClick:u,className:"button is-danger"},"close"))))}),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={username:e.props.user,loading:!0,role:"",videos:[],totalVideos:0,name:"",surname:"",bio:"",image:"",number:"",show:!1,flagButton:!0},e.showModal=function(){e.setState({show:!0,flagButton:!1})},e.hideModal=function(){e.setState({show:!1,flagButton:!0})},e.savePreferences=function(t){t.preventDefault(),e.setState({show:!1,flagButton:!0}),I.UpdateProfileStudent(e.state)},e.handleInput=function(t){console.log(t.target);var a=t.target,n=a.name,l=a.value;"checkbox"===t.target.type&&(l=t.target.checked),e.setState(Object(v.a)({},n,l))},e.handleFileUpload=function(t){var a=new FormData;a.append("image",t.target.files[0]),a.append("username",e.state.username),I.handleFileUpload(a).then((function(t){e.setState({image:t})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;I.FetchProfileStudent({username:this.state.username}).then((function(t){var a=t.data[0],n=a.name,l=a.surname,s=a.number,c=a.videos,r=a.bio,i=a.role,o=a.image,m=a.emailnotifications;e.setState({videos:c,totalVideos:c.length,name:n,surname:l,number:s,bio:r,role:i,image:o,emailnotifications:m,loading:!1})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container profile"},l.a.createElement("div",{className:"section profile-heading"},l.a.createElement("div",{className:"columns is-mobile is-multiline"},l.a.createElement("div",{className:"column is-2"},l.a.createElement("span",{className:"student-profile-big"},l.a.createElement("img",{alt:this.state.name,src:this.state.image}))),l.a.createElement("div",{className:"column is-4-tablet is-10-mobile name"},l.a.createElement("span",{className:"title is-bold"},this.state.name," ",this.state.surname),l.a.createElement("br",null),l.a.createElement(M,{user:this.state,handleSave:this.savePreferences,handleClose:this.hideModal,handleInput:this.handleInput,handleFileUpload:this.handleFileUpload}),this.state.flagButton&&l.a.createElement("button",{type:"button",className:"button is-primary is-outlined",onClick:this.showModal},"Edit preferences"),l.a.createElement("br",null),l.a.createElement("p",{className:"tagline"},this.state.bio)),l.a.createElement("div",{className:"column is-2-tablet is-4-mobile has-text-centered"},l.a.createElement("p",{className:"stat-val"},this.state.totalVideos),l.a.createElement("p",{className:"stat-key"},"videos")))),l.a.createElement("div",{className:"video-container"},this.state.videos.map((function(e,t){return l.a.createElement("div",{className:"card-video",key:e.id},l.a.createElement("div",{className:"card-image"},l.a.createElement("iframe",{allowtransparency:"true",title:t,width:"300",height:"215",src:"https://www.youtube.com/embed/"+e.snippet.resourceId.videoId,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,l.a.createElement(O.a,{format:"D MMM YYYY"},e.snippet.publishedAt)),l.a.createElement("p",{className:"title is-5"},e.snippet.title),l.a.createElement("p",null,e.snippet.description))))}))))}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).checkAuthenticated=function(){console.log("check authenticated"),null===n.state.username&&n.service.isAuthenticated().then((function(e){console.log(e),n.setState({username:e.username,role:e.role,loading:!1})})).catch((function(e){n.setState({username:!1,role:!1,loading:!1})}))},n.setUser=function(e){console.log(e),n.setState({username:e.username,role:e.role})},n.state={videos:[],role:null,username:null,loggedInUser:null,loading:!1},n.service=new f,n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.checkAuthenticated(),this.state.loading?l.a.createElement("p",null,"loading"):"ADMIN"===this.state.role?l.a.createElement("div",null,l.a.createElement(b.a,{to:"/students/"}),l.a.createElement(d,null),l.a.createElement(E,{userInSession:this.state.loggedInUser,setUser:this.setUser}),l.a.createElement(b.d,null,l.a.createElement(b.b,{path:"/students",component:k}),l.a.createElement(b.b,{exact:!0,path:"/videos",component:j}),l.a.createElement(b.b,{exact:!0,path:"/video/:id",component:V}))):"USER"===this.state.role?l.a.createElement("div",null,l.a.createElement(b.a,{to:"/myprofile/".concat(this.state.username)}),l.a.createElement(d,null),l.a.createElement(g,{userInSession:this.state,setUser:this.setUser}),l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/myprofile/:id"},l.a.createElement(x,{user:this.state.username,setUser:this.setUser})))):l.a.createElement("div",null,l.a.createElement(d,null),l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/"},l.a.createElement("h3",null,"Home "),l.a.createElement(r.b,{to:"/login"},"Login"),l.a.createElement("p",null),l.a.createElement(r.b,{to:"signup"},"Signup")),l.a.createElement(b.b,{path:"/login",render:function(){return l.a.createElement(N,{setUser:e.setUser})}}),l.a.createElement(b.b,{path:"/signup",component:S})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(r.a,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a8e40827.chunk.js.map